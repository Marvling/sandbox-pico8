pico-8 cartridge // http://www.pico-8.com
version 32
__lua__

frame = 0

obj_x = 78
obj_dx = 1.6
obj_y = 12
obj_dy = 3.2
obj_r = 2
obj_col = 7

pad_x = 51
pad_y = 108
pad_w = 24
pad_h = 3

pad_v = 0
pad_a = 0.2

function change_obj_col (speed)
	obj_col %= 15
	obj_col += speed
end

function change_size (speed, strength)
	frame = frame + 1

	if (frame > 32765) then
		frame = 0
	end

	obj_r = 3 + (sin(frame/speed))*strength

end

function check_obj_collision(x, y, w, h)
	
	--left
	if obj_x - obj_r < x then
		return true
	end

	-- right
	if obj_x + obj_r > x + w then
		return true
	end

	-- top
	if obj_y + obj_r < y then
		return true
	end

	-- bottom
	if obj_y - obj_r > y + h then
		return true
	end

	return false
end

function _init ()
	cls()
end

function _update()
	is_button_pressed = false

	-- Pad Movement
	if btn(0) then
		-- left
		pad_v -= pad_a
		is_button_pressed = true
	end
	if btn(1) then
		--right
		pad_v += pad_a
		is_button_pressed = true
	end

	if not(is_button_pressed) then
		pad_v = pad_v / 1.2
	end

	pad_x += pad_v

	if ((pad_x + pad_w) > 127 or pad_x < 0) then
		pad_v =0
	end
	

	-- Object Movement logic
	obj_x += obj_dx
	obj_y -= obj_dy

	if (obj_x > 123) or (obj_x < 1) then
		obj_dx = -obj_dx
		sfx(0)
	end

	if (obj_y > 124) or (obj_y < 1) then
		obj_dy = -obj_dy
		sfx(0)
	end

	if  not(check_obj_collision(pad_x, pad_y, pad_w, pad_h)) then
		obj_dy = -obj_dy
		sfx(3)
	end
    
	-- obj_color logic
	-- change_obj_col(0.2)

	-- Size logic
	-- change_size(8, 1.2)
end

function _draw()
	cls()
	
	circfill(obj_x,obj_y,obj_r,obj_col)
	rectfill(pad_x, pad_y, pad_x + pad_w, pad_y + pad_h, 1)
	
	
end


__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000b6666666666666666666b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000b666666666666666666666b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000b6bbbbbbaaaaaaabbbbbb6b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000b666666666666666666666b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000b6666666666666666666b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000000000000000000000000000000000000000000000000000000000001010101010101010000000000000000010101010101010100000000000000000101010101010101000000000000000001010101010101010000000000000000010101010101010100000000000000000101010101010101000000000000
0000010101010101010100000000000000000101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
0001000008770107701676016760177501774017730177201771013710117100d7000f100101000010000100011000f10001100001000010000100001000c1000c1000c1000b1000b1000a1000a1000a1000a100
0001000005850108501885021850278502d8503185033850388503a8503c8503e8503f8503f8503e8503d8503b85039850378503385031850308502c850298502685024850208501b85016850118500885003850
00100000059700f970189601c96022950269402c9302f9202c91028910171002120013100182001620010200091000c2000920003100042000090001200000000000000000000000000000000000000000000000
000100000f120141401d1601d1601c160181501113004120081300e15012150131300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
